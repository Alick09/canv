(()=>{var t={349:function(t){var n;n=()=>(()=>{"use strict";var t={d:(n,e)=>{for(var a in e)t.o(e,a)&&!t.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:e[a]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{Space:()=>i,SpriteDrawer:()=>d,installCanvasControll:()=>u,installClicks:()=>s,installSelection:()=>c});var e=function(t,n,e){var a=n.center,i=void 0===a?{x:0,y:0}:a,o=n.scale,r=void 0===o?1:o,c=n.angle,s=void 0===c?0:c,l=n.rotationCenter,u=void 0===l?{x:0,y:0}:l;return function(t,n,e){if(0==e)return t;var a={x:t.x-n.x,y:t.y-n.y},i=Math.hypot(a.x,a.y);if(i<1)return t;var o=Math.atan2(a.y,a.x)+e,r=Math.cos(o)*i,c=Math.sin(o)*i;return{x:n.x+r,y:n.y+c}}({x:(t.x-i.x-((null==e?void 0:e.x)||0))/r,y:(t.y-i.y-((null==e?void 0:e.y)||0))/r},u,-s)},a=function(){return a=Object.assign||function(t){for(var n,e=1,a=arguments.length;e<a;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},a.apply(this,arguments)},i=function(t,n){var i=t.getContext("2d");if(null===i)throw TypeError("Can't get context2d from canvas");var o=[],r=function(t,n){var e=t.center,a=t.angle,o=t.rotationCenter,r=t.scale;e&&i.translate(e.x,e.y),n&&i.translate(n.x,n.y),r&&i.scale(r,r),a&&(o&&i.translate(o.x,o.y),i.rotate(a),o&&i.translate(-o.x,-o.y))},c={center:{x:0,y:0},scale:n.scale,angle:n.angle,rotationCenter:Object.assign({x:0,y:0},n.rotationCenter)},s=function(){var t=h.position,n=(h.position.scale||1)*h.pixelRatio;return a(a({},t),{scale:n,center:{x:t.center.x*n,y:t.center.y*n}})},l=n.center||{x:0,y:0},u=function(){var n=(h.position.scale||1)*h.pixelRatio;return{x:t.width/2-n*l.x,y:t.height/2-n*l.y}},d=!1,f=function(){var t=Date.now(),n=!1;o.forEach((function(e){e.applyAnimation(t)&&(n=!0)})),n?(h.draw(),requestAnimationFrame(f)):d=!1},h={options:n,canvas:t,objects:o,pixelRatio:1,position:c,addObject:function(t){return t.parent=this,o.push(t),t},addDrawable:function(t){return this.addObject(function(t){var n={center:{x:t.x||0,y:t.y||0},angle:t.angle,scale:t.scale,rotationCenter:t.rotationCenter};if(t.selectable&&void 0===t.checkInside)throw TypeError("Drawable should have checkInside method to be selectable");var a={selected:!1},i={x:0,y:0},o={func:function(t){return!1},queue:[],start:-1},r=function(t){void 0===t&&(t=-1);var n=o.queue.shift();n&&(o.func=n,o.start=t)};return{parent:void 0,orig:t,inAnimationLoop:!1,selectable:t.selectable||!1,position:n,data:t.data,draw:function(n){return t.draw.call(this,n)},getSpace:function(){if(!this.parent)throw ReferenceError("Couldn't traverse to space from object. Parent is null.");return"selectable"in this.parent?this.parent.getSpace():this.parent},checkInside:function(n){if(!t.checkInside)return!1;var e=this.transform(n),a=t.checkInside.call(this,e);return a&&Object.assign(i,e),a},selected:function(t){return void 0!==t&&(a.selected=t),a.selected},click:function(){t.onClick&&t.onClick(i)},clickable:function(){return void 0!==t.onClick},transform:function(t){var a=this.parent?this.parent.transform(t):t;return e(a,n)},animate:function(t){var n=t.animation,e=t.force,a=void 0!==e&&e,i=t.putToQueue,r=void 0!==i&&i;a||!this.inAnimationLoop?(this.inAnimationLoop=!0,o.func=n,o.start=-1,this.getSpace().triggerAnimation()):r&&o.queue.push(n)},stopAnimation:function(t){void 0===t&&(t=!1),t||0==o.queue.length?this.inAnimationLoop=!1:r()},applyAnimation:function(t){return!!this.inAnimationLoop&&(o.start<0?o.start=t:o.func.call(this,t-o.start)||(0==o.queue.length?this.inAnimationLoop=!1:r(t)),this.inAnimationLoop)}}}(t))},draw:function(){i.clearRect(0,0,t.width,t.height),r(s(),u()),o.forEach((function(t){i.save(),r(t.position),t.draw(i),i.restore()})),i.resetTransform()},triggerAnimation:function(){d||(d=!0,requestAnimationFrame(f))},launch:function(){var t=this;if(this.options.animationTick){var n=this,e=function(){var a;null===(a=t.options.animationTick)||void 0===a||a.call(n,0),t.draw(),requestAnimationFrame(e)};requestAnimationFrame(e)}else console.warn("Set animationTick in space options to make animation work. Ignoring launch.")},transform:function(t){var n=this.pixelRatio;return e({x:t.x*n,y:t.y*n},s(),u())}};return h.pixelRatio=function(t,n){var e=n.pixelRatio,a=n.onResize,i=n.setupAutoResize,o=1;return(void 0===i||i)&&(a||(o=e||Math.ceil(window.devicePixelRatio),a=function(){t.canvas.width=t.canvas.offsetWidth*o,t.canvas.height=t.canvas.offsetHeight*o,t.draw()}),window.onresize=a,a()),o}(h,n),h},o=function(t){var n=t.space,e=t.pos,a=t.filter,i=t.prepare,o=t.getFirst,r=void 0!==o&&o,c=null;return n.objects.forEach((function(t){i&&i(t),r&&null!=c||a&&!a(t)||!t.checkInside(e)||(c=t)})),c},r=function(t,n,e){t.canvas.addEventListener(n,(function(t){e({x:t.offsetX,y:t.offsetY})}))},c=function(t,n){var e=(n=n||{firstIfMany:!1}).firstIfMany;return r(t,"click",(function(n){var a=o({space:t,pos:n,getFirst:e,filter:function(t){return t.selectable},prepare:function(t){return t.selected(!1)}});null!==a&&a.selected(!0),t.draw()})),{}},s=function(t,n){var e=(n=n||{firstIfMany:!1}).firstIfMany;return r(t,"click",(function(n){var a=o({space:t,pos:n,getFirst:e,filter:function(t){return t.clickable()}});null!==a&&a.click(),t.draw()})),{}},l=function(){return l=Object.assign||function(t){for(var n,e=1,a=arguments.length;e<a;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},l.apply(this,arguments)},u=function(t){t.canvas.style.touchAction="none",t.canvas.style.userSelect="none";var n={startPos:{x:0,y:0},startCanvPos:{x:0,y:0},moving:!1},e=function(e){n.startPos=e,n.startCanvPos=t.position.center||{x:0,y:0},n.moving=!0,t.draw()},a=function(e){if(n.moving){var a=t.position.scale||1;t.position.center={x:n.startCanvPos.x+(e.x-n.startPos.x)/a,y:n.startCanvPos.y+(e.y-n.startPos.y)/a}}t.draw()},i=function(){n.moving=!1,t.draw()},o=function(n){t.position.scale=(t.position.scale||1)*n,t.draw()};t.canvas.addEventListener("wheel",(function(t){o(t.deltaY>.1?.95:t.deltaY<-.1?1.05:1),t.preventDefault()})),r(t,"mousedown",e),r(t,"mouseup",i),r(t,"mousemove",a),function(t,n){var e=n.startMove,a=n.endMove,i=n.move,o=n.scale,r=n.rotate,c={center:void 0,rotate:void 0,distance:void 0,count:0},s=t.canvas.getBoundingClientRect(),u=function(n,u){var d=function(t){var n=Array.from(t).filter((function(t){return t.identifier<2})).sort((function(t,n){return t.identifier-n.identifier})).map((function(t){return{x:t.clientX-s.x,y:t.clientY-s.y}}));if(0==n.length)return{center:void 0,rotate:void 0,distance:void 0};var e=n.reduce((function(t,n){return{x:t.x+n.x,y:t.y+n.y}}),{x:0,y:0}),a={distance:void 0,rotate:void 0,count:n.length};if(n.length>1){var i={x:n[0].x-n[1].x,y:n[0].y-n[1].y};a.distance=Math.hypot(i.x,i.y),a.rotate=Math.atan2(i.y,i.x)}return l({center:{x:e.x/n.length,y:e.y/n.length}},a)}(n.touches);c.distance&&d.distance&&o(d.distance/c.distance),c.rotate&&d.rotate&&r(d.rotate-c.rotate,t.transform(d.center)),d.center&&!c.center?e(d.center):!d.center&&c.center?a():d.center&&c.center&&(d.count!==c.count&&e(d.center),i(d.center)),Object.assign(c,d)};t.canvas.addEventListener("touchstart",(function(t){return u(t)})),t.canvas.addEventListener("touchend",(function(t){return u(t)})),t.canvas.addEventListener("touchcancel",(function(t){return u(t)})),t.canvas.addEventListener("touchmove",(function(t){return u(t)}))}(t,{startMove:e,move:a,endMove:i,rotate:function(n,e){t.position.rotationCenter=e,t.position.angle=(t.position.angle||0)+n,t.draw()},scale:o})},d=function(t){var n=t.size,e=void 0===n?{w:0,h:0}:n,a=t.drawLoading,i=t.space,o=t.crop,r=void 0===o?{}:o,c=t.animationConfig,s=function(t,n){var e={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&n.indexOf(a)<0&&(e[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(t);i<a.length;i++)n.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(e[a[i]]=t[a[i]])}return e}(t,["size","drawLoading","space","crop","animationConfig"]),l=new Image(e.w?e.w:void 0,e.h?e.h:void 0),u=function(t){var n=t.url,e=t.content,a=t.base64,i=t.dataType,o=void 0===i?"image/svg+xml":i;if(!n&&!e&&!a)throw TypeError("You should initialize sprite drawer with url, content or base64");if(n)return n;var r=a;return!r&&e&&(r=btoa(e)),"data:".concat(o,";base64,").concat(r)}(s),d=a||function(t){t.beginPath(),t.fillStyle="#00000080";var n=e.w||100,a=e.h||100;t.rect(-n/2,-a/2,n,a),t.fill(),t.closePath()},f={loaded:!1,frame:void 0,animationConfig:c,draw:function(t){this.loaded?function(t,n){var a={left:r.left||0,top:r.top||0,width:r.width||0,height:r.height||0},i=e.w,o=e.h;n.frame&&(Object.assign(a,n.frame),i=n.frame.width,o=n.frame.height),t.drawImage(l,a.left,a.top,a.width,a.height,-i/2,-o/2,i,o)}(t,this):d(t)},animate:function(t,n){var e,a=this;if(!this.animationConfig)return function(t){return!1};var i=1e3/t,o=(null===(e=this.animationConfig)||void 0===e?void 0:e.frameCount)||1;return function(t){var e,r=0|t/i,c=r%o;return a.frame=null===(e=a.animationConfig)||void 0===e?void 0:e.getFrame(c),void 0===n||r/o<n}}};return c&&(f.frame=c.getFrame(c.defaultIndex||0)),l.onload=function(){f.loaded=!0,0===e.w&&(e.w=l.naturalWidth-(r.left||0),e.h=l.naturalHeight-(r.top||0)),r.width=r.width||l.naturalWidth-(r.left||0),r.height=r.height||l.naturalHeight-(r.top||0),i&&i.draw()},l.src=u,f};return n})(),t.exports=n()}},n={};function e(a){var i=n[a];if(void 0!==i)return i.exports;var o=n[a]={exports:{}};return t[a].call(o.exports,o,o.exports,e),o.exports}(()=>{"use strict";var t=e(349);const n=[],a=(t,n)=>({x:t,y:n,scale:1,data:((t,n,e=1)=>{const a=[];for(let t=0;t<n;t+=e)a.push(t);return a})(0,16).map((t=>{const n=Math.PI*t/8,e={x:Math.cos(n),y:Math.sin(n)};return{x:150*e.x,y:150*e.y,length:150,d:e}})),draw(t){t.beginPath(),this.data.forEach((n=>{t.lineTo(n.x,n.y)})),t.strokeStyle="#137085",t.lineWidth=5,t.closePath(),t.stroke()}}),i=()=>({x:0,y:0,onClick(t){n[0].animate({animation(t){const n=t/300;return this.position.scale=1+Math.sin(n),n<Math.PI}}),n[1].animate({animation(t){const n=t/300;return this.position.center={x:400+100*Math.cos(n),y:100*Math.sin(n)},n<2*Math.PI}}),n[2].animate({animation(t){return this.data.forEach((n=>{var e;n.length+=n.speed||0,n.speed=(e=(n.speed||0)+(n.force||0))>3?3:e<-3?-3:e,t>(n.nextForceChange||0)&&(n.force=Math.random()-.5-(n.length-150)/20,n.nextForceChange=t+50),n.x=n.d.x*n.length,n.y=n.d.y*n.length})),t<1e4}})},...(50,"#333",{draw(t){t.beginPath(),t.arc(0,0,50,0,2*Math.PI),t.fillStyle="#333",t.fill(),t.closePath()},checkInside:t=>Math.hypot(t.x,t.y)<50})});window.onload=()=>{const e=(0,t.Space)(document.getElementById("canvas"),{scale:.6});e.addDrawable((({count:t=20,mainStep:n=100,secondaryDivisions:e=2})=>{const a=t*n,i=({ctx:t,pos:n,width:e,color:i="#888",horizontal:o=!0})=>{t.beginPath(),t.lineWidth=e,t.strokeStyle=i,o?(t.moveTo(-a,n),t.lineTo(a,n)):(t.moveTo(n,-a),t.lineTo(n,a)),t.stroke(),t.closePath()};return{x:0,y:0,draw(a){for(let o=-t;o<=t;++o){let r=n*o;if(i({ctx:a,pos:r,width:2,horizontal:!0}),i({ctx:a,pos:r,width:2,horizontal:!1}),o<t)for(let t=1;t<e;++t){const o=r+t/e*n;i({ctx:a,pos:o,color:"#ccc",width:1,horizontal:!0}),i({ctx:a,pos:o,color:"#ccc",width:1,horizontal:!1})}}}}})({mainStep:200})),n.push(e.addDrawable(a(-500,0))),n.push(e.addDrawable(a(500,0))),n.push(e.addDrawable(a(0,-500))),e.addDrawable(i()),(0,t.installClicks)(e,{}),(0,t.installCanvasControll)(e),e.draw()}})()})();